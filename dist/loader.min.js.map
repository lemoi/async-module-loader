{"version":3,"sources":["loader.js"],"names":["undefined","Loader","Error","deepCopy","obj","copyObj","o","target","i","copyFunc","func","temp","apply","this","arguments","key","obj_copy","type","fetchTextFromURL","url","callback","error","xhr","status","statusText","XMLHttpRequest","onerror","onreadystatechange","readyState","responseText","open","setRequestHeader","send","loadScript","path","parent","build","_module","Module","script_text","check","script","Script","children","deP","length","checkReferenceCircle","Modules","register","init","setTimeout","exports","hasAdd","_m","parentPath","parentPaths","get","push","getDep","wrapStart","execPart","wrapEnd","prototype","generate","Head","window","document","head","body","createElement","text","appendChild","removeChild","regExp","result","exec","Path","polyfill","loaded","id","set","require","module","IdManager","setId","__M","getId","hasLoaded","deps","checkFnc","encode","fnObj","idList","waitFor","join","__fnQueue","waitfor","finished","asyncExec","queue","j","con","checkOut","index","indexOf","splice","path_id_map","_id","rtObj","Object","defineProperties","getModule","value","setEntry","enumerable"],"mappings":"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","file":"loader.min.js","sourcesContent":["/* \r\n\tThe loaderjs is just used for browser\t\r\n\r\n\tVersion:@0.1.5\r\n*/\r\n\r\n/*\r\nAPI:\r\n    Loader.setEntry('main.js',[function]);加载入口\r\n*/\r\n\r\nif(Loader!==undefined) throw new Error('the loader namespace may be used for other lib');\r\n\r\nvar Loader=(function(){\r\n\tvar deepCopy=function(obj){\r\n\t\tvar obj_copy,type=typeof obj;\r\n\t\tfunction copyObj(o,target){\r\n\t\t\tfor(var i in o){ \t\r\n\t\t\t\tif(typeof o[i]==='object'&&o[i]!==null){\r\n\t\t\t\t\ttarget[i]={};\r\n\t\t\t\t\tcopyObj(o[i],target[i]);\t\r\n\t\t\t\t}else if(typeof o[i]==='function'){\r\n\t\t\t\t\ttarget[i]=copyFunc(o[i]);\r\n\t\t\t\t}else{\r\n\t\t\t\t\ttarget[i]=o[i];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tfunction copyFunc(func){\r\n\t\t\tvar temp=function(){\r\n\t\t\t\treturn func.apply(this,arguments);\r\n\t\t\t};\r\n\t\t\tfor(var key in func){\r\n\t\t\t\ttemp[key]=deepCopy(func[key]);\r\n\t\t\t}\r\n\t\t\treturn temp;\r\n\t\t}\r\n\t\tif(type==='function'){\r\n\t\t\tobj_copy=copyFunc(obj);\r\n\t\t}else if(type==='object'&&obj!==null){\r\n\t\t\tobj_copy={};\r\n\t\t\tcopyObj(obj,obj_copy);\r\n\t\t}else{\r\n\t\t\tobj_copy=obj;\r\n\t\t}\r\n\t\treturn obj_copy;\r\n\t};\r\n\t/*\r\n\t\tajax加载文件\r\n\t\t@param {string} url fetch的地址\r\n\t\t@param {function} callback 用来执行加载完成的操作  \r\n\t*/\r\n\tvar fetchTextFromURL=function(url,callback){\r\n    var xhr = new XMLHttpRequest();\r\n    xhr.onerror = error;\r\n    function error() {\r\n   \t\tthrow new Error('XHR error' + (xhr.status ? ' (' + xhr.status + (xhr.statusText ? ' ' + xhr.statusText  : '') + ')' : '') + ' loading ' + url);\r\n    }\r\n    xhr.onreadystatechange = function () {\r\n\t\t\tif (xhr.readyState === 4) {\r\n\t\t\t\tif (xhr.status === 200) {\r\n\t\t\t\t  callback(xhr.responseText);\r\n\t\t\t\t}else {\r\n\t\t\t\t  error();\r\n\t\t\t\t}\r\n\t\t\t}\r\n    };\r\n    xhr.open(\"GET\", url, true);\r\n    if (xhr.setRequestHeader) {\r\n      \txhr.setRequestHeader('Accept', 'application/x-es-module, */*');\r\n    }\r\n    xhr.send();\r\n\t};\r\n\r\n\tvar loadScript=function(path,parent,callback){\r\n\t\tvar _m;\r\n\t\tvar checkReferenceCircle=function(parentPath){\r\n\t\t\tvar parentPaths=[parentPath],_module,i=0;\r\n\t\t\twhile((_module=Modules.get(parentPath))!==null){\r\n\t\t\t\t\tparentPaths.push(_module.parent);\r\n\t\t\t\t\ti++;\r\n\t\t\t\t\tif(i>5) break;\r\n\t\t\t\t\tparentPath=_module.parent;\r\n\t\t\t}\t\t\r\n\t\t\treturn function(path){\r\n\t\t\t\tfor(var i=0;i<parentPaths.length-1;i++){//length-1 消除Loader\r\n\t\t\t\t\tif(parentPaths[i]===path)\treturn true;\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t};\r\n\t\t};\r\n\t\tfunction build(path,parent,callback){\r\n\t\t\tvar _module=new Module(path,parent);\r\n\t\t\tfetchTextFromURL(path,function(script_text){\r\n\t\t\t\tvar script=new Script(script_text,path),check;\r\n\t\t\t\t_module.children=script.deP;\r\n\t\t\t\tcheck=_module.children.length===0?null:checkReferenceCircle(path);\r\n\t\t\t\tModules.register(_module.children,check,function(){\r\n\t\t\t\t\tscript.init();\r\n\t\t\t\t\tif(callback!==undefined){\r\n\t\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\t\tcallback(_module.exports);\r\n\t\t\t\t\t\t},0);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tfor(var i in _module.children){\r\n\t\t\t\t\tif(!Modules.hasAdd(_module.children[i])){\r\n\t\t\t\t\t\tbuild(_module.children[i],path);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\t\t\t\r\n\t\t}\r\n\t\tif((_m=Modules.get(path))!==null){\r\n\t\t\tregister(_m.children,null,function(){\r\n\t\t\t\tif(callback!==undefined){\r\n\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\tcallback(_m.exports);\r\n\t\t\t\t\t},0);\r\n\t\t\t\t}\t\t\t\t\r\n\t\t\t});\r\n\t\t}else{\r\n\t\t\tbuild(path,parent,callback);\r\n\t\t}\r\n\t};\r\n\r\n\tvar Script=function(script_text,path){\r\n\t\tthis.deP=Script.getDep(script_text);\r\n\t\tthis.wrapStart='(function(){var module=Loader.getModule(\\''+path+'\\');(function(require,exports){';\r\n\t\tthis.execPart=script_text;\r\n\t\tthis.wrapEnd='})(module.require,module.exports);module.loaded=true;Loader.checkOut(\\''+path+'\\')})()';\r\n\t};\r\n\tScript.prototype.generate=function(){\r\n\t\treturn this.wrapStart+this.execPart+this.wrapEnd;\r\n\t};\r\n\tScript.prototype.init=function(){\r\n\t\tvar Head=window.document.head||window.document.body;\r\n\t\tvar script=document.createElement('script');\r\n\t\tscript.text=this.generate();\r\n\t\tHead.appendChild(script);\r\n\t\tHead.removeChild(script);\r\n\t};\r\n\tScript.regExp=/require\\(([\"'])(.*?)\\1\\)/g;\r\n\tScript.getDep=function(script_text){\r\n\t\tvar result,deP=[];\r\n\t\twhile((result=Script.regExp.exec(script_text))!==null){\r\n\t\t\tdeP.push(Path.polyfill(result[2]));\r\n\t\t}\r\n\t\treturn deP;\r\n\t};\r\n\r\n\tvar Path=function(){};\r\n\tPath.regExp=/^(\\.{1,2})?(\\/)?.*?\\.js/;\r\n\tPath.polyfill=function(path){\r\n\t\tvar result=Path.regExp.exec(path);\r\n\t\tif (result===null){\r\n\t\t\treturn './'+path+'.js';\r\n\t\t}else if(result[2]===undefined){\r\n\t\t\treturn \"./\"+path;\r\n\t\t}else if(result[1]===undefined){\r\n\t\t\treturn \".\"+path;\r\n\t\t}\r\n\t\treturn path;\r\n\t};\r\n\r\n\tvar Module=function(path,parent){\r\n\t\tthis.exports={};\r\n\t\tthis.loaded=false;\r\n\t\tthis.id=path;\r\n\t\tthis.parent=parent;//' LOADER'为入口\r\n\t\tthis.children=null;\r\n\t\tModules.set(path,this);\r\n\t};\r\n\tModule.prototype.require=function(path){\r\n\t\treturn deepCopy(Modules.get(Path.polyfill(path)).exports);\r\n\t};\r\n\tvar Modules=(function(){\r\n\t\tvar __M=[],path_id_map={},__fnQueue={};\r\n\t\tvar IdManager=function(){};\r\n\t\tIdManager._id=1;\r\n\t\tIdManager.setId=function(path){\r\n\t\t\tvar id=path_id_map[path];\r\n\t\t\tif(id===undefined){\r\n\t\t\t\tpath_id_map[path]=this._id;\r\n\t\t\t\treturn this._id++;\r\n\t\t\t}else{\r\n\t\t\t\treturn id;\r\n\t\t\t}\r\n\t\t};\r\n\t\tIdManager.getId=function(path){\r\n\t\t\treturn path_id_map[path];\r\n\t\t};\r\n\t\tfunction hasAdd(path){\r\n\t\t\treturn get(path)!==null;\r\n\t\t}\r\n\t\tfunction set(path,module){\r\n\t\t\tvar id=IdManager.setId(path);\r\n\t\t\t__M[id]=module;\r\n\t\t}\r\n\t\tfunction get(path){\r\n\t\t\tvar id,module;\r\n\t\t\tif(!((id=IdManager.getId(path))&&(module=__M[id]))){\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\treturn module;\r\n\t\t}\r\n\t\tfunction hasLoaded(path){\r\n\t\t\tvar _m;\r\n\t\t\treturn !!((_m=get(path))&&_m.loaded);\r\n\t\t}\r\n\t\tfunction register(deps,checkFnc,callback){\r\n\t\t\tvar i,id,idList=[],encode,waitFor=[],fnObj,temp;\r\n\t\t\tif(deps.length===0){\r\n\t\t\t\tsetTimeout(callback,0);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tfor(i=0;i<deps.length;i++){\t\r\n\t\t\t\tid=IdManager.setId(deps[i]);\r\n\t\t\t\tidList.push(id);\r\n\t\t\t\tif(!hasLoaded(deps[i])){\r\n\t\t\t\t\tif(checkFnc!==null){\r\n\t\t\t\t\t\tif(!checkFnc(deps[i])) waitFor.push(id);\t\t\t\t\t\t\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\twaitFor.push(id);\t\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(waitFor.length===0){\r\n\t\t\t\tsetTimeout(callback,0);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tencode=idList.join('&');\r\n\t\t\tif(__fnQueue[encode]!==undefined)\r\n\t\t\t\tif(typeof __fnQueue[encode].exec === 'function'){\r\n\t\t\t\t\ttemp=__fnQueue[encode].exec;\r\n\t\t\t\t\t__fnQueue[encode].exec=[];\r\n\t\t\t\t\t__fnQueue[encode].exec.push(temp,callback);\r\n\t\t\t\t}else{\r\n\t\t\t\t\t__fnQueue[encode].exec.push(callback);\r\n\t\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\t__fnQueue[encode]={};\r\n\t\t\t\tfnObj=__fnQueue[encode];\r\n\t\t\t\tfnObj.exec=callback;\r\n\t\t\t\tfnObj.waitfor=waitFor;\r\n\t\t\t\tfnObj.finished=false;\r\n\t\t\t}\r\n\t\t}\r\n\t\tfunction asyncExec(queue,key){\r\n\t\t\tif(typeof queue[key].exec ==='function'){\r\n\t\t\t\tqueue[key].finished=true;\r\n\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\tqueue[key].exec();\r\n\t\t\t\t\tdelete queue[key];\r\n\t\t\t\t},0);\r\n\t\t\t}else{\r\n\t\t\t\tfor(var j in queue[key].exec){\r\n\t\t\t\t\tqueue[key].finished=true;\r\n\t\t\t\t\t(function(){\r\n\t\t\t\t\t\tvar con=j,i=0;\r\n\t\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\t\tqueue[key].exec[con]();\r\n\t\t\t\t\t\t\tif(i===j) delete queue[key];\r\n\t\t\t\t\t\t\ti++;\r\n\t\t\t\t\t\t},0);\r\n\t\t\t\t\t})();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tfunction checkOut(path){\r\n\t\t\tvar i,waitFor,id;\r\n\t\t\tid=IdManager.getId(path);\r\n\t\t\tif(id===undefined){\r\n\t\t\t\tthrow new Error('the path is not included');\r\n\t\t\t}\r\n\t\t\tfor(i in __fnQueue){\r\n\t\t\t\tif(__fnQueue[i].finished) continue;\r\n\t\t\t\twaitFor=__fnQueue[i].waitfor;\r\n\t\t\t\tindex=waitFor.indexOf(id);\r\n\t\t\t\tif(index===-1)  continue;\r\n\t\t\t\twaitFor.splice(index,1);\r\n\t\t\t\tif(waitFor.length===0){\r\n\t\t\t\t\tasyncExec(__fnQueue,i);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn {\r\n\t\t\tset:set,\r\n\t\t\tget:get,\r\n\t\t\tregister:register,\r\n\t\t\tcheckOut:checkOut,\r\n\t\t\thasAdd:hasAdd\r\n\t\t};\r\n\t})();\r\n\r\n\tvar rtObj={};\r\n\tObject.defineProperties(rtObj,{\r\n\t\tgetModule:{\r\n\t\t\tvalue:Modules.get\r\n\t\t},\r\n\t\tcheckOut:{\r\n\t\t\tvalue:Modules.checkOut\r\n\t\t},\r\n\t\tsetEntry:{\r\n\t\t\tvalue:function(path,callback){\r\n\t\t\t\tpath=Path.polyfill(path);\r\n\t\t\t\tloadScript(path,'LOADER',callback);\r\n\t\t\t},\r\n\t\t\tenumerable:true\r\n\t\t}\r\n\t});\r\n\treturn rtObj;\r\n})();"],"sourceRoot":"/source/"}