if(void 0!==Loader)throw new Error("the loader namespace may be used for other lib");var Loader=function(){var e=function(e,t){function n(){throw new Error("XHR error"+(r.status?" ("+r.status+(r.statusText?" "+r.statusText:"")+")":"")+" loading "+e)}var r=new XMLHttpRequest;r.onerror=n,r.onreadystatechange=function(){4===r.readyState&&(200===r.status?t(r.responseText):n())},r.open("GET",e,!0),r.setRequestHeader&&r.setRequestHeader("Accept","application/x-es-module, */*"),r.send()},t=function(r,u,d){if(!o.hasAdd(r)){var c=new i(r,u);o.set(r,c),e(r,function(e){var i=new n(e,r);if(c.children=i.deP,0===c.children.length)setTimeout(function(){i.init(),void 0!==d&&setTimeout(d,0)},0);else{o.register(c.children,function(){i.init(),void 0!==d&&setTimeout(function(){d(c.exports)},0)});for(var u in c.children)var s=t(c.children[u],r)}})}},n=function(e,t){this.deP=n.getDep(e),this.wrapStart="(function(){var module=Loader.getModule('"+t+"');(function(require,exports){",this.execPart=e,this.wrapEnd="})(module.require,module.exports);module.loaded=true;Loader.checkOut('"+t+"')})()"};n.prototype.generate=function(){return this.wrapStart+this.execPart+this.wrapEnd},n.prototype.init=function(){var e=window.document.head||window.document.body,t=document.createElement("script");t.text=this.generate(),e.appendChild(t),e.removeChild(t)},n.regExp=/require\((["'])(.*?)\1\)/g,n.getDep=function(e){for(var t,i=[];null!==(t=n.regExp.exec(e));)i.push(r.polyfill(t[2]));return i};var r=function(){};r.regExp=/^(\.{1,2})?(\/)?.*?\.js/,r.polyfill=function(e){var t=r.regExp.exec(e);return null===t?"./"+e+".js":void 0===t[2]?"./"+e:void 0===t[1]?"."+e:e};var i=function(e,t){this.exports={},this.loaded=!1,this.id=e,this.parent=t,this.children=null};i.prototype.require=function(e){return o.get(r.polyfill(e)).exports};var o=function(){function e(e){var t;return!(!(t=a.getId(e))||!d[t])}function t(e,t){var n=a.setId(e);d[n]=t}function n(e){var t,n;if(!(t=a.getId(e))||!(n=d[t]))throw new Error("can't get the module");return n}function r(e){var t;return!!((t=a.getId(e))&&d[t]&&d[t].loaded)}function i(e,t){var n,i,o,u,d=[],c=[];for(n=0;n<e.length;n++)i=a.setId(e[n]),d.push(i),r(e[n])||c.push(i);o=d.join("&"),void 0!==s[o]?"function"==typeof s[o].exec?s[o].exec=Array(s[o].exec).push(t):s[o].exec.push(t):(s[o]={},u=s[o],u.exec=t,u.waitfor=c,u.finished=!1)}function o(e,t){if("function"==typeof e[t].exec)e[t].finished=!0,setTimeout(function(){e[t].exec(),delete e[t]},0);else for(var n in e[t].exec)e[t].finished=!0,function(){var r=n,i=0;setTimeout(function(){e[t].exec[r](),i===n&&delete e[t],i++},0)}()}function u(e){var t,n,r;if(r=a.getId(e),void 0===r)throw new Error("the path is not included");for(t in s)s[t].finished||(n=s[t].waitfor,index=n.indexOf(r),void 0!==index&&(n.splice(index,1),0===n.length&&o(s,t)))}var d=[],c={},s={},a=function(){};return a._id=1,a.setId=function(e){var t=c[e];return void 0===t?(c[e]=this._id,this._id++):t},a.getId=function(e){return c[e]},{set:t,get:n,register:i,checkOut:u,hasAdd:e}}(),u={};return u.getModule=o.get,u.setEntry=function(e,n){e=r.polyfill(e);t(e,"LOADER",n)},u.checkOut=o.checkOut,u}();
//# sourceMappingURL=loader.min.js.map
